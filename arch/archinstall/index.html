<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta name="generator" content="Hugo 0.80.0" />
  <link rel="canonical" href="https://baizeyv.github.io/arch/archinstall/">

  

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" type="text/css" href="https://baizeyv.github.io/css/paper.css">

  
  
  <link rel="stylesheet" type="text/css" href="https://baizeyv.github.io/css/custom.css">

  
  
  <title>Arch Linux Installion | My New Hugo Site</title>
</head>
  <body>
    <div class="container paper">
      <nav class="border split-nav">
  <div class="nav-brand">
    <h3><a href="/">My New Hugo Site</a></h3>
  </div>
  <div class="collapsible">
    <input id="collapsible1" type="checkbox" name="collapsible1">
    <button>
    <label for="collapsible1">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
      </label>
    </button>
    <div class="collapsible-body">
      <ul class="inline">
      
      </ul>
    </div>
  </div>
</nav>
      <main>
        

<h1>Arch Linux Installion</h1>
<h1 id="arch-linux-安装部分">Arch Linux 安装部分</h1>
<hr>
<h2 id="1制作启动盘">1.制作启动盘</h2>
<p>去往Arch Linux官网下载<a href="https://archlinux.org/download/">iso镜像</a></p>
<p>使用任意制作启动盘的工具制作启动U盘</p>
<p>制作细节此处不做赘述</p>
<h2 id="2安装uefi-mode">2.安装(UEFI MODE)</h2>
<p>U盘插在USB插口后，选择U盘进入(不同电脑品牌，按键不同)</p>
<h4 id="21更改字体">2.1更改字体</h4>
<p>进入后如果感觉字体过小，则可以更改字体</p>
<p><code>setfont /usr/share/kbd/consolefonts/LatGrkCyr-12x22.psfu.gz</code></p>
<h4 id="22无线联网">2.2无线联网</h4>
<p>使用<code>ip link</code>查询无线网卡接口</p>
<p>若无线网卡接口为<code>DOWN</code>,则通过<code>ip link set YOUR_PORT up</code>命令启用端口</p>
<p>通过<code>iwlist YOUR_PORT scan | grep ESSID</code>命令扫描无线</p>
<p><code>wpa_passphrase YOUR_WIFI_NAME YOUR_WIFI_PASSWORD &gt; internet.conf</code>将wifi生成对应配置文件</p>
<p><code>wpa_supplicant -c internet.conf -i YOUR_PORT &amp;</code>连接无线</p>
<p><code>dhcpcd &amp;</code>若为有线连接，则只需此一条命令</p>
<h4 id="23设置时钟">2.3设置时钟</h4>
<p><code>timedatectl set-ntp true</code></p>
<h4 id="24分区fdisk">2.4分区(fdisk)</h4>
<p>使用<code>fdisk -l</code>查看磁盘列表</p>
<pre><code>    fdisk /dev/nvme0n1
    ......
</code></pre><p><a href="https://wiki.archlinux.org/index.php/Fdisk_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">fdisk用法见arch wiki</a></p>
<p><code>mkfs.fat -F32 /dev/nvme0n1p1</code>此处nvme0n1p1为引导分区</p>
<p><code>mkfs.ext4 /dev/nvme0n1p2</code>此处nvme0n1p2为主分区</p>
<p><code>mkswap /dev/nvme0n1p3</code>此处nvme0n1p3为交换分区</p>
<p><code>swapon /dev/nvme0n1p3</code>打开交换分区</p>
<h4 id="25挂载分区">2.5挂载分区</h4>
<pre><code>    mount /dev/nvme0n1p2 /mnt
    mkdir /mnt/boot
    mount /dev/nvme0n1p1 /mnt/boot
</code></pre><h4 id="26编辑镜像">2.6编辑镜像</h4>
<p><code>vim /etc/pacman.conf</code>去掉该文件Color的注释，提供更好地视觉体验</p>
<p><code>vim /etc/pacman.d/mirrorlist</code>选择你喜欢的国内镜像</p>
<h4 id="27安装基础组件">2.7安装基础组件</h4>
<p><code>pacstrap /mnt base linux linux-firmware</code></p>
<h4 id="28生成fstab">2.8生成fstab</h4>
<p><code>genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</code></p>
<h4 id="29更改时区">2.9更改时区</h4>
<pre><code>    arch-chroot /mnt #进入chroot模式
    ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
    hwclock --systohc
    exit #退出chroot模式
</code></pre><h4 id="210添加系统语言">2.10添加系统语言</h4>
<p>将该文件中en_US.UTF-8取消注释(安装时使用中文会出现黑框)</p>
<pre><code>    vim /mnt/etc/locale.gen
    arch-chroot /mnt
    locale-gen
    exit
    vim /mnt/etc/locale.conf #添加LANG=en_US.UTF-8
</code></pre><h4 id="211修改机器名称">2.11修改机器名称</h4>
<p>在该文件中写下你想要的机器名称</p>
<p><code>vim /mnt/etc/hostname</code></p>
<h4 id="212修改host文件">2.12修改host文件</h4>
<p><code>vim /mnt/etc/hosts</code></p>
<pre><code>    127.0.0.1   localhost
    ::1         localhost
    127.0.1.1   机器名称.localdomain 机器名称
</code></pre><h4 id="213设置root密码">2.13设置root密码</h4>
<p><code>arch-chroot /mnt</code></p>
<p><code>passwd</code>输入两次密码</p>
<h4 id="214安装必要组件">2.14安装必要组件</h4>
<pre><code>    pacman -S grub efibootmgr intel-ucode os-prober #os-prober为可选项，用于多操作系统检测引导
</code></pre><h4 id="215grub">2.15GRUB</h4>
<pre><code>    mkdir /boot/grub
    grub-mkconfig &gt; /boot/grub/grub.cfg
    uname -m #检测架构
    grub-install --target=x86_64-efi --efi-directory=/boot #以x86_64为例
</code></pre><h4 id="216安装小工具">2.16安装小工具</h4>
<p><code>pacman -S vim vi zsh wpa_supplicant dhcpcd</code></p>
<h4 id="217退出chroot模式重启">2.17退出chroot模式,重启</h4>
<p><code>exit</code></p>
<p><code>reboot</code></p>
<h2 id="3end">3.END</h2>
<p>重启后可以拔出U盘，OK，你进入了我大arch的黑色tty界面！！！</p>

  

      </main>
      
  

  </div>
  </body>
</html>